03/21 10:41:17: ðŸ¤˜ cadnaPromise ðŸ¤˜
03/21 10:41:17: Using the compiler: g++
03/21 10:41:17: We are working with 1 file and 0 different types
03/21 10:41:17: The expectation is 12 digits.
03/21 10:41:17: $ mkdir -p debug
03/21 10:41:17: Create the file debug/parsed_pgmres.cpp
03/21 10:41:17: a) Get a reference result with cadna (double)
03/21 10:41:17: runAndCompile with types={}
03/21 10:41:17: $ mkdir -p debug
03/21 10:41:17: $ rsync -a * debug --exclude debug
03/21 10:41:17: $ cp /home/xinye/.local/lib/python3.10/site-packages/cadnaPromise/extra/promise.h debug
03/21 10:41:17: $ cp /home/xinye/.local/lib/python3.10/site-packages/cadnaPromise/extra/promise_header.h debug
03/21 10:41:17: $ cp -p /home/xinye/.local/lib/python3.10/site-packages/cadnaPromise/extra/cadnaizer debug
03/21 10:41:17: Create the file debug/withoutcadna_pgmres.cpp
03/21 10:41:17: $ cd debug
03/21 10:41:17: $ ./cadnaizer withoutcadna_pgmres.cpp -o pgmres.cpp
03/21 10:41:17: $ g++ pgmres.cpp -frounding-math -m64 -o pgmres -lcadnaC -L$CADNA_PATH/lib -I$CADNA_PATH/include
03/21 10:41:19: pgmres.cpp: In function â€˜double_st norm(const std::vector<double_st>&)â€™:
pgmres.cpp:52:21: error: call of overloaded â€˜sqrt(double_st)â€™ is ambiguous
   52 |     return std::sqrt(dot(v, v));
      |            ~~~~~~~~~^~~~~~~~~~~
In file included from /usr/include/features.h:502,
                 from /usr/include/x86_64-linux-gnu/c++/13/bits/os_defines.h:39,
                 from /usr/include/x86_64-linux-gnu/c++/13/bits/c++config.h:679,
                 from /usr/include/c++/13/bits/requires_hosted.h:31,
                 from /usr/include/c++/13/iostream:38,
                 from /home/xinye/.local/lib/python3.10/site-packages/cadnaPromise/cadna//include/cadna.h:26,
                 from pgmres.cpp:1:
/usr/include/x86_64-linux-gnu/bits/mathcalls.h:143:1: note: candidate: â€˜double sqrt(double)â€™
  143 | __MATHCALL (sqrt,, (_Mdouble_ __x));
      | ^~~~~~~~~~
In file included from /home/xinye/.local/lib/python3.10/site-packages/cadnaPromise/cadna//include/cadna.h:27:
/usr/include/c++/13/cmath:438:3: note: candidate: â€˜constexpr float std::sqrt(float)â€™
  438 |   sqrt(float __x)
      |   ^~~~
/usr/include/c++/13/cmath:442:3: note: candidate: â€˜constexpr long double std::sqrt(long double)â€™
  442 |   sqrt(long double __x)
      |   ^~~~
pgmres.cpp: In constructor â€˜DiagonalPreconditioner::DiagonalPreconditioner(const Matrix&)â€™:
pgmres.cpp:73:44: error: operands to â€˜?:â€™ have different types â€˜double_stâ€™ and â€˜doubleâ€™
   73 |             diag_inv[i] = (A(i, i) != 0.0) ? 1.0 / A(i, i) : 1.0;
      |                           ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
pgmres.cpp:73:44: note:   and each type can be converted to the other
pgmres.cpp: In function â€˜GMRESResult gmres(const Matrix&, const std::vector<double_st>&, const DiagonalPreconditioner&, int, double_st)â€™:
pgmres.cpp:133:34: error: call of overloaded â€˜sqrt(double_st)â€™ is ambiguous
  133 |         double_st rho = std::sqrt(H[k][k] * H[k][k] + H[k + 1][k] * H[k + 1][k]);
      |                         ~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/usr/include/x86_64-linux-gnu/bits/mathcalls.h:143:1: note: candidate: â€˜double sqrt(double)â€™
  143 | __MATHCALL (sqrt,, (_Mdouble_ __x));
      | ^~~~~~~~~~
/usr/include/c++/13/cmath:438:3: note: candidate: â€˜constexpr float std::sqrt(float)â€™
  438 |   sqrt(float __x)
      |   ^~~~
/usr/include/c++/13/cmath:442:3: note: candidate: â€˜constexpr long double std::sqrt(long double)â€™
  442 |   sqrt(long double __x)
      |   ^~~~
pgmres.cpp:144:24: error: call of overloaded â€˜abs(__gnu_cxx::__alloc_traits<std::allocator<double_st>, double_st>::value_type&)â€™ is ambiguous
  144 |         beta = std::abs(g[k + 1]);
      |                ~~~~~~~~^~~~~~~~~~
In file included from /usr/include/c++/13/cstdlib:79,
                 from /usr/include/c++/13/ext/string_conversions.h:43,
                 from /usr/include/c++/13/bits/basic_string.h:4109,
                 from /usr/include/c++/13/string:54,
                 from /usr/include/c++/13/bits/locale_classes.h:40,
                 from /usr/include/c++/13/bits/ios_base.h:41,
                 from /usr/include/c++/13/ios:44,
                 from /usr/include/c++/13/ostream:40,
                 from /usr/include/c++/13/iostream:41:
/usr/include/stdlib.h:980:12: note: candidate: â€˜int abs(int)â€™
  980 | extern int abs (int __x) __THROW __attribute__ ((__const__)) __wur;
      |            ^~~
In file included from /usr/include/c++/13/cstdlib:81:
/usr/include/c++/13/bits/std_abs.h:56:3: note: candidate: â€˜long int std::abs(long int)â€™
   56 |   abs(long __i) { return __builtin_labs(__i); }
      |   ^~~
/usr/include/c++/13/bits/std_abs.h:61:3: note: candidate: â€˜long long int std::abs(long long int)â€™
   61 |   abs(long long __x) { return __builtin_llabs (__x); }
      |   ^~~
/usr/include/c++/13/bits/std_abs.h:71:3: note: candidate: â€˜constexpr double std::abs(double)â€™
   71 |   abs(double __x)
      |   ^~~
/usr/include/c++/13/bits/std_abs.h:75:3: note: candidate: â€˜constexpr float std::abs(float)â€™
   75 |   abs(float __x)
      |   ^~~
/usr/include/c++/13/bits/std_abs.h:79:3: note: candidate: â€˜constexpr long double std::abs(long double)â€™
   79 |   abs(long double __x)
      |   ^~~
/usr/include/c++/13/bits/std_abs.h:85:3: note: candidate: â€˜constexpr __int128 std::abs(__int128)â€™
   85 |   abs(__GLIBCXX_TYPE_INT_N_0 __x) { return __x >= 0 ? __x : -__x; }
      |   ^~~
/usr/include/c++/13/bits/std_abs.h:137:3: note: candidate: â€˜constexpr __float128 std::abs(__float128)â€™
  137 |   abs(__float128 __x)
      |   ^~~

03/21 10:41:19: $ cd /home/xinye/hpc-mix-mlbench/promise_test/gmres
03/21 10:41:19: Compilation failed
Is Cadna installed? Did you link your cade with Cadna with `-lcadnac`, `-L$CADNA_PATH/lib` and `-I$CADNA_PATH/include` ?
Traceback (most recent call last):
  File "/home/xinye/.local/lib/python3.10/site-packages/cadnaPromise/run.py", line 205, in runPromise
    pr.compileAndRun(tempPath, cadna=True)
  File "/home/xinye/.local/lib/python3.10/site-packages/cadnaPromise/promise.py", line 307, in compileAndRun
    raise PromiseCompilationError(msg)
cadnaPromise.errors.PromiseCompilationError: Compilation failed
Is Cadna installed? Did you link your cade with Cadna with `-lcadnac`, `-L$CADNA_PATH/lib` and `-I$CADNA_PATH/include` ?
